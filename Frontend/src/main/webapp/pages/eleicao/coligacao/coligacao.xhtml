<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <div class="ui-g-12">
        <h:panelGroup id="panelColigacao">
            <div class="ui-g-12 ui-md-12 ui-lg-2">
                <p:commandLink id="novoPartido"
                               value="Cadastrar partido"
                               process="@this"
                               update="@this, panelCadastroPartido"
                               oncomplete="PF('modalNovoPartido').show();"
                               action="#{cadastroPartidoWebBean.novoPartido(coligacaoWebBean.coligacoes)}" />
            </div>
            <div class="ui-g-12 ui-md-12 ui-lg-2">
                <p:commandLink id="novaColigacao"
                               value="Cadastrar coligacao"
                               process="@this"
                               update="@this, panelCadastroColigacao"
                               oncomplete="PF('modalNovaColigacao').show();"
                               action="#{cadastroColigacaoWebBean.novaColigacao(eleicaoWebBean.eleicao.idEleicao, coligacaoWebBean.coligacoes)}" />
            </div>
            <div class="ui-g-12 ui-md-12 ui-lg-12">
                <p:dataTable id="tabelaColigacoes"
                             rows="20"
                             reflow="true"
                             paginator="true"
                             paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                             paginatorAlwaysVisible="false"
                             value="#{coligacaoWebBean.coligacoes}"
                             var="coligacao"
                             emptyMessage="Nenhum candidato cadastrado">
                    <p:column headerText="Ação" width="5%">
                        <p:commandLink id="editarColigacao"
                                       action="#{cadastroColigacaoWebBean.editar(coligacao)}"
                                       process="@this"
                                       update="@this, formEleicao:tabViewEleicao:panelCadastroColigacao"
                                       oncomplete="PF('modalNovaColigacao').show();">
                            <i class="fa fa-pencil" />
                        </p:commandLink>
                    </p:column>
                    <p:column headerText="Código" width="7%">
                        <h:outputText value="#{coligacao.idColigacao}" />
                    </p:column>
                    <p:column headerText="Nome">
                        <h:outputText value="#{coligacao.nome}" />
                    </p:column>
                </p:dataTable>
            </div>
        </h:panelGroup>
    </div>

    <ui:include src="modal-novo-partido.xhtml" />
    <ui:include src="modal-nova-coligacao.xhtml" />
</ui:composition>